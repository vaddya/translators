\include{settings}

\begin{document}

\include{titlepage}

\tableofcontents
\newpage

\section{Цель работы}

Ознакомится с возможностями программирования лексического разбора на языке Lex.

\section{Программа работы}

\begin{itemize}
	\item 
\end{itemize}

\section{Знакомство с языком Lex}

\subsection{Удаление пробелов и табуляций в начале строк}

Рассмотрим программу, которая передает в выходной поток все литеры входного потока кроме пробелов и/или табуляций в начале строки.

\lex{ex01}

Подадим программе на вход несколько тестовых примеров:

\inout{ex01}

Из результатов видно, что пробелы и табуляции в начале строки были успешно удалены.

\subsection{Подсчет числа строк}

Рассмотрим программу, выполняющую подсчет числа строк во входящей последовательности.

\lex{ex02}

Подадим программе на вход разные входные последовательности:
\begin{itemize}
	\item Файл, состоящий из пяти строк
	\item Пустой файл
\end{itemize}

\inout{ex02.1}
\inout{ex02.2}

Из результатов видно, что в обоих случаях число строк было посчитано верно.

\subsection{Подсчет и вывод знаковых целых чисел}

Рассмотрим программу, реализующую подсчет последовательностей, которые обозначают знаковые целые числа; каждый раз при обнаружении такой последовательности выводится текущее значение счетчика чисел и текст лексемы

\lex{ex03}

\inout{ex03}

Из результатов видно, что программа успешно распознала во входном потоке все целые числа со знаком и пронумеровала их от 1 до 7.

\subsection{Вывод идентификаторов и беззнаковых целых чисел}

Рассмотрим программу вывода идентификаторов и беззнаковых целых чисел.

\lex{ex04}

\inout{ex04}

Из результатов видно, что программа вывела только цифры и слова, состоящие из букв латинского алфавита, удалив из потока входных символов знаки препинания, знаки чисел и кириллицу. 

\subsection{Подсчет и вывод гистограммы длин слов}

Рассмотрим программу подсчета идентификаторов по длине. Результат выполнения -- гистограмма длин слов в диапазоне от 1 до 40, в виде текста на русском или английском языках.
 
\lex{ex05}

\inout{ex05.1}

\inout{ex05.2}

Из результатов видно, что программа успешно подсчитала и вывела гистограмму длин слов для текстов на русском и английском языках.

\subsection{Вывод строки наискосок при помощи \code{yyless}}

Рассмотрим программу вывода входной строки наискосок при помощи \code{yyless}. Функция \code{yyless(n)} сокращает строку в \code{yytext} до n первых литер, возвращая остаток во входной
поток.

\lex{ex06}

\inout{ex06}

Видно, что программа сначала выводит всю строку, затем правую половину всей строки, затем правую половину от половины строки и т.д. Округление при делении \code{yyless(yyleng/2)} происходит в нижнюю сторону, поэтому, например, если поток содержит 7 входных символов, то во второй строке будет выведено 4 правых символа.

\subsection{Макросы и ввод-вывод низкого уровня с проверкой конца входного потока}

Рассмотрим программу, демонстрирующую использование функций низкоуровневого ввода-вывода:

\begin{itemize}
	\item \code{input()} -- чтение следующей литеры из входного потока (в конце потока считывается \code{null}-литера);
	\item \code{output(c)} -- запись литеры c в выходной поток;
	\item \code{unput(c)} -- запись литеры c во входной поток
\end{itemize}

Функция input используется для поиска конца комментария, заданного в стиле языка C -- \code{/* */}. Также демонстрируются макроопределения 16-ричных цифр \code{H}, десятичных цифр \code{D} и букв \code{L} и их подстановки: \code{\{H}\}, \code{\{D\}} и \code{\{L\}}.

\lex{ex07_2}

\inout{ex07_2}

Видно, что программа успешно выделяла во входном потоке идентификаторы и числа. Тем не менее, программе не удалось справиться с незакрытым комментарием: программа циклилась.

\subsection{Функция \code{unput}}

\subsection{Дублирование \code{yytext} и \code{yyleng} при работе с \code{unput}}

\subsection{Двусмысленный набор правил}

\subsection{Неправильный шаблон для распознавания строки в кавычках}

\subsection{Правильный шаблон для распознавания строки в кавычках}

\subsection{Использование переменной состояния}

\subsection{Решение при помощи стартовых условий}

\subsection{Трассировка стартовых условий}

\subsection{Подсчет количества <<she>> и <<he>> без учета <<he>> внутри <<she>>}

\subsection{Подсчет всех экземпляров <<she>> и <<he>>}

\subsection{Подсчет <<she>> и <<he>> с использованием \code{yyless}}

\section{Индивидуальное задание}

16-ричные константы в стиле С, например, \code{0x1fa2}. Внимание: ввод \code{0x=} распадается на три лексемы: число \code{0}, идентификатор x и знак равенства, а ввод \code{01fe} -- на число \code{01} и идентификатор \code{fe}.

\section{Выводы}

В процессе выполнения данной работы:

\begin{itemize}
	\item 
\end{itemize}

\end{document}
